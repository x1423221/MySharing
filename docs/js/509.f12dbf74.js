"use strict";(self["webpackChunksplit"]=self["webpackChunksplit"]||[]).push([[509],{7377:function(e,t,n){n.d(t,{A:function(){return r}});n(4114);var s=n(6768),a=n(1387),i={__name:"BtnGotoHomePage",setup(e){const t=(0,a.rd)(),n=()=>{t.push("/")};return(e,t)=>((0,s.uX)(),(0,s.CE)("button",{id:"btnGoHome",class:"btn btn-danger d-flex align-items-center justify-content-center",onClick:n},t[0]||(t[0]=[(0,s.Lk)("i",{class:"bi bi-x-lg"},null,-1)])))}};const l=i;var r=l},3509:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});n(4114),n(8992),n(4520),n(3949),n(1454),n(7550);var s=n(6768),a=n(4232),i=n(144),l=n(7617),r=n(1387),c=n(9648),u=n(7377);const o={class:"group-container"},d={class:"container-title"},v={class:"title-container"},k={class:"container-body"},p={class:"card-container"},b={class:"card-body"},f={class:"card-title"},h=["onClick"];var m={__name:"HistoryComponents",setup(e){const t=(0,i.KR)([]),n=(0,r.rd)(),m=(0,s.WQ)("isLoading"),L=(0,s.WQ)("profile"),C=(0,s.WQ)("currentGroup"),g=(0,i.Kh)({}),y=(0,i.Kh)({}),G=e=>{C.value=t.value[e],n.push("/group")};return(0,s.sV)((async()=>{try{const e=(0,l.aU)(),n=(0,l.rJ)(e,"241229Test"),s=await(0,l.GG)(n);s.forEach((e=>{const n=e.data();if(e.id===L.value.userId){const s=Object.entries(n).map((([t,n])=>({did:e.id,id:t,...n})));return void(t.value=[...t.value,...s])}const s=Object.entries(n).filter((([e,t])=>(console.log("key:",e),Object.entries(t).some((([e,t])=>"members"===e&&t.filter((e=>e.userId===L.value.userId)).length>0))))).map((([t,n])=>({did:e.id,id:t,...n})));t.value=[...t.value,...s],t.value.sort(((e,t)=>e.date>t.date))})),(0,c.iN)(t.value,g,y),m.value=!1}catch(e){alert(e)}})),(e,n)=>((0,s.uX)(),(0,s.CE)("div",o,[(0,s.Lk)("div",d,[(0,s.Lk)("div",v,[(0,s.bF)(u.A),n[0]||(n[0]=(0,s.Lk)("div",null,[(0,s.Lk)("span",null,"歷史紀錄")],-1))])]),(0,s.Lk)("div",k,[(0,s.Lk)("div",p,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.value,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{class:(0,a.C4)(["card",{hidden:y[e.id]}]),key:e.id,style:(0,a.Tr)(g[e.id])},[(0,s.Lk)("div",b,[(0,s.Lk)("h5",f,(0,a.v_)(e.name),1),(0,s.Lk)("span",null,(0,a.v_)(e.date),1),(0,s.Lk)("div",null,[(0,s.Lk)("button",{id:"btnGotoGroupPage",class:"btn btn-success",onClick:e=>G(t),style:{width:"100%"}}," 前往"+(0,a.v_)(e.name),9,h)])])],6)))),128))])])]))}};const L=m;var C=L}}]);
//# sourceMappingURL=509.f12dbf74.js.map