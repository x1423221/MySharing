{"version":3,"file":"js/69.bd30b003.js","mappings":"+TAyBA,MAAMA,GAASC,EAAAA,EAAAA,IAAI,MACbC,GAASD,EAAAA,EAAAA,IAAI,IACbE,GAASC,EAAAA,EAAAA,MAETC,EAAWA,KACfF,EAAOG,KAAK,IAAI,E,OAGlBC,EAAAA,EAAAA,KAAUC,UACR,IACE,MAAMC,GAAYC,EAAAA,EAAAA,IAAO,aACzBV,EAAOW,MAAQC,eAAeC,QAAQ,MAEtC,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAQC,EAAAA,EAAAA,IAAWH,EAAU,cAC7BI,QAAgBC,EAAAA,EAAAA,IAAQH,GAE9BE,EAAQE,SAASC,IACf,MAAMC,EAAOD,EAAIC,OACXC,EAAiBC,OAAOC,QAAQH,GAAMI,QAAO,EAAEC,EAAKhB,MACxDiB,QAAQC,IAAI,OAASF,GACrB,MAAMG,EAAUN,OAAOC,QAAQd,GAAOe,QAAO,EAAEK,EAAGC,MAChD,GAAS,WAALD,EAIF,OAHAH,QAAQC,IAAI,KAAOE,GACnBH,QAAQC,IAAI,KAAOG,GACnBJ,QAAQC,IAAI,eAAiBG,GACtBR,OAAOS,KAAKD,GAAGE,SAASlC,EACjC,IAGF,OADA4B,QAAQC,IAAI,WAAaC,GAClBA,CAAO,IAGhB5B,EAAOS,MAAQ,IACVT,EAAOS,SACPY,EAAeY,KAAI,EAAER,EAAKhB,MAAW,CACtCyB,GAAIT,KACDhB,MAEN,IAGHF,EAAUE,OAAQ,CACpB,CAAE,MAAO0B,GACPT,QAAQC,IAAIQ,EACd,K,uoBChEF,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://split/./src/components/HistoryComponents.vue","webpack://split/./src/components/HistoryComponents.vue?a576"],"sourcesContent":["<template>\r\n  <div class=\"group-container\">\r\n    <div class=\"row align-items-start\">\r\n      <div class=\"col-2\">\r\n        <button class=\"btn btn-danger\" @click=\"gotoHome\">\r\n          <i class=\"bi bi-x-lg\"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\" v-for=\"group in result.value\" :key=\"group.id\">\r\n      <div>\r\n        <h3>{{ group.name }}</h3>\r\n        <p>Group ID: {{ group.id }}</p>\r\n        <p>Members: {{ group.members.join(\", \") || \"No members\" }}</p>\r\n        <p>transactions: {{ group.transactions.join(\", \") || \"No members\" }}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { inject, onMounted, ref } from \"vue\";\r\nimport { getFirestore, collection, getDocs } from \"firebase/firestore\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nconst userId = ref(null);\r\nconst result = ref([]);\r\nconst router = useRouter();\r\n\r\nconst gotoHome = () => {\r\n  router.push(\"/\");\r\n};\r\n\r\nonMounted(async () => {\r\n  try {\r\n    const isLoading = inject(\"isLoading\");\r\n    userId.value = sessionStorage.getItem(\"id\");\r\n\r\n    const firebase = getFirestore();\r\n    const dbcol = collection(firebase, \"241229Test\");\r\n    const doclist = await getDocs(dbcol);\r\n\r\n    doclist.forEach((ele) => {\r\n      const data = ele.data();\r\n      const filteredGroups = Object.entries(data).filter(([key, value]) => {\r\n        console.log(\"key:\" + key);\r\n        const members = Object.entries(value).filter(([k, v]) => {\r\n          if (k == \"members\") {\r\n            console.log(\"k:\" + k);\r\n            console.log(\"v:\" + v);\r\n            console.log(\"type:\" + typeof v);\r\n            return Object.keys(v).includes(userId);\r\n          }\r\n        });\r\n        console.log(\"members:\" + members);\r\n        return members;\r\n      });\r\n\r\n      result.value = [\r\n        ...result.value,\r\n        ...filteredGroups.map(([key, value]) => ({\r\n          id: key,\r\n          ...value,\r\n        })),\r\n      ];\r\n    });\r\n\r\n    isLoading.value = false;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.group-container {\r\n  width: 80vw;\r\n  height: 90vh;\r\n  background: white;\r\n  border-radius: 25px;\r\n  padding: 15px;\r\n}\r\n</style>\r\n","import script from \"./HistoryComponents.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HistoryComponents.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HistoryComponents.vue?vue&type=style&index=0&id=64c918cf&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-64c918cf\"]])\n\nexport default __exports__"],"names":["userId","ref","result","router","useRouter","gotoHome","push","onMounted","async","isLoading","inject","value","sessionStorage","getItem","firebase","getFirestore","dbcol","collection","doclist","getDocs","forEach","ele","data","filteredGroups","Object","entries","filter","key","console","log","members","k","v","keys","includes","map","id","err","__exports__"],"sourceRoot":""}