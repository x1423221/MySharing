{"version":3,"file":"js/509.d040fbd8.js","mappings":"mWAyBA,MAAMA,GAAQC,EAAAA,EAAAA,MACRC,EAASF,EAAMG,MAAMC,G,OAE3BC,EAAAA,EAAAA,KAAUC,UACR,IACE,MAAMC,GAAYC,EAAAA,EAAAA,IAAO,aACnBC,GAAWC,EAAAA,EAAAA,MACXC,GAAQC,EAAAA,EAAAA,IAAWH,EAAU,cAC7BI,QAAgBC,EAAAA,EAAAA,IAAQH,GAE9BE,EAAQE,SAASC,IACf,MAAMC,EAAOD,EAAIC,OACjBC,QAAQC,IAAI,MAAQC,KAAKC,UAAUJ,IACnCC,QAAQC,IAAI,MAAQF,GAGpB,MAAMK,EAAiBC,OAAOC,QAAQP,GAAMQ,QAAO,EAAEC,KAC5CH,OAAOC,QAAQE,GAAOD,QAAO,EAAEE,EAAGC,MACvC,GAAS,WAALD,EAEF,OADAT,QAAQC,IAAI,aAAeQ,GACpBE,MAAMC,QAAQF,EAAEG,UAAYH,EAAEG,QAAQC,SAAS9B,EACxD,MAIE+B,EAASX,EAAeY,KAAI,EAAEC,EAAKT,MAAW,CAClDtB,GAAI+B,KACDT,MAGLR,QAAQC,IAAI,SAAWG,GACvBJ,QAAQC,IAAIc,GACZ1B,EAAUmB,OAAQ,CAAK,GAE3B,CAAE,MAAOU,GACPlB,QAAQC,IAAIiB,EACd,K,ubC1DF,MAAMC,EAAc,EAEpB,O","sources":["webpack://split/./src/components/HistoryComponents.vue","webpack://split/./src/components/HistoryComponents.vue?a576"],"sourcesContent":["<template>\r\n  <div class=\"group-container\">\r\n    <div class=\"row align-items-start\">\r\n      <div class=\"col-2\">\r\n        <button class=\"btn btn-danger\" @click=\"gotoHome\">\r\n          <i class=\"bi bi-x-lg\"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\" v-for=\"i in result\" :key=\"i.key\">\r\n      <div>\r\n        {{ i.key }}\r\n      </div>\r\n      <div>\r\n        {{ i.name }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { inject, onMounted } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { getFirestore, collection, getDocs } from \"firebase/firestore\";\r\n\r\nconst route = useRoute();\r\nconst userId = route.query.id;\r\n\r\nonMounted(async () => {\r\n  try {\r\n    const isLoading = inject(\"isLoading\");\r\n    const firebase = getFirestore();\r\n    const dbcol = collection(firebase, \"241229Test\");\r\n    const doclist = await getDocs(dbcol);\r\n    //Uea43486b3bc11062986a319913daeb56\r\n    doclist.forEach((ele) => {\r\n      const data = ele.data();\r\n      console.log(\"資料:\" + JSON.stringify(data));\r\n      console.log(\"資料:\" + data);\r\n      //const targetMember = \"Uea43486b3bc11062986a319913daeb56\"; // 目標成員\r\n\r\n      const filteredGroups = Object.entries(data).filter(([value]) => {\r\n        return Object.entries(value).filter(([k, v]) => {\r\n          if (k == \"members\") {\r\n            console.log(\"value.key:\" + k);\r\n            return Array.isArray(v.members) && v.members.includes(userId);\r\n          }\r\n        });\r\n      });\r\n\r\n      const result = filteredGroups.map(([key, value]) => ({\r\n        id: key,\r\n        ...value,\r\n      }));\r\n\r\n      console.log(\"處理後資料:\" + filteredGroups);\r\n      console.log(result);\r\n      isLoading.value = false;\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped></style>\r\n","import script from \"./HistoryComponents.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HistoryComponents.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["route","useRoute","userId","query","id","onMounted","async","isLoading","inject","firebase","getFirestore","dbcol","collection","doclist","getDocs","forEach","ele","data","console","log","JSON","stringify","filteredGroups","Object","entries","filter","value","k","v","Array","isArray","members","includes","result","map","key","err","__exports__"],"sourceRoot":""}