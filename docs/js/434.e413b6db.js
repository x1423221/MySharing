"use strict";(self["webpackChunksplit"]=self["webpackChunksplit"]||[]).push([[434],{434:function(e,s,t){t.r(s),t.d(s,{default:function(){return p}});t(4114),t(8992),t(4520),t(3949),t(1454),t(7550);var n=t(6768),a=t(4232),l=t(144),i=t(7617),c=t(1387);const o={class:"group-container"},r={class:"card-container"},u=["onClick"];var d={__name:"HistoryComponents",setup(e){const s=(0,l.KR)(null),t=(0,l.KR)([]),d=(0,c.rd)(),v=()=>{d.push("/")},k=e=>{sessionStorage.setItem("currentGroup",JSON.stringify(t.value[e])),sessionStorage.setItem("id",s.value),d.push("/group")};return(0,n.sV)((async()=>{try{const e=(0,n.WQ)("isLoading");s.value=sessionStorage.getItem("id"),console.log("userId:"+s.value);const a=(0,i.aU)(),l=(0,i.rJ)(a,"241229Test"),c=await(0,i.GG)(l);c.forEach((e=>{const n=e.data();if(e.id===s.value){const e=Object.entries(n).map((([e,s])=>({id:e,...s})));return void(t.value=[...t.value,...e])}const a=Object.entries(n).filter((([e,t])=>(console.log("key:",e),Object.entries(t).some((([e,t])=>"members"===e&&Array.isArray(t)&&t.includes(s.value)))))).map((([e,s])=>({id:e,...s})));t.value=[...t.value,...a]})),e.value=!1}catch(e){console.log(e)}})),(e,s)=>((0,n.uX)(),(0,n.CE)("div",o,[(0,n.Lk)("div",{class:"container-title"},[(0,n.Lk)("div",{class:"title-container"},[(0,n.Lk)("button",{id:"btnGoHome",class:"btn btn-danger d-flex align-items-center justify-content-center",onClick:v},s[0]||(s[0]=[(0,n.Lk)("i",{class:"bi bi-x-lg"},null,-1)])),s[1]||(s[1]=(0,n.Lk)("div",null,[(0,n.Lk)("span",null,"歷史紀錄")],-1))])]),(0,n.Lk)("div",r,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.value,((e,s)=>((0,n.uX)(),(0,n.CE)("div",{class:"card",key:e.id},[(0,n.Lk)("h3",null,(0,a.v_)(e.name),1),(0,n.Lk)("button",{id:"btnCreateNew",class:"btn btn-success",onClick:e=>k(s)}," 前往"+(0,a.v_)(e.name),9,u)])))),128))])]))}},v=t(1241);const k=(0,v.A)(d,[["__scopeId","data-v-10512ce5"]]);var p=k}}]);
//# sourceMappingURL=434.e413b6db.js.map