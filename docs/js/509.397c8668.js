"use strict";(self["webpackChunksplit"]=self["webpackChunksplit"]||[]).push([[509],{7377:function(e,n,t){t.d(n,{A:function(){return r}});t(4114);var s=t(6768),a=t(1387),i={__name:"BtnGotoHomePage",setup(e){const n=(0,a.rd)(),t=()=>{n.push("/")};return(e,n)=>((0,s.uX)(),(0,s.CE)("button",{id:"btnGoHome",class:"btn btn-danger d-flex align-items-center justify-content-center",onClick:t},n[0]||(n[0]=[(0,s.Lk)("i",{class:"bi bi-x-lg"},null,-1)])))}};const l=i;var r=l},3509:function(e,n,t){t.r(n),t.d(n,{default:function(){return m}});t(4114),t(8992),t(4520),t(3949),t(1454),t(7550);var s=t(6768),a=t(4232),i=t(144),l=t(7617),r=t(1387),u=t(9648),c=t(7377);const o={class:"group-container"},d={class:"container-title"},v={class:"title-container"},p={class:"card-container"},b=["onClick"];var k={__name:"HistoryComponents",setup(e){const n=(0,i.KR)([]),t=(0,r.rd)(),k=(0,s.WQ)("isLoading"),f=(0,s.WQ)("profile"),m=(0,s.WQ)("currentGroup"),h=(0,i.Kh)({}),C=(0,i.Kh)({}),g=e=>{m.value=n.value[e],t.push("/group")};return(0,s.sV)((async()=>{try{const e=(0,l.aU)(),t=(0,l.rJ)(e,"241229Test"),s=await(0,l.GG)(t);s.forEach((e=>{const t=e.data();if(e.id===f.value.userId){const s=Object.entries(t).map((([n,t])=>({did:e.id,id:n,...t})));return void(n.value=[...n.value,...s])}const s=Object.entries(t).filter((([e,n])=>(console.log("key:",e),Object.entries(n).some((([e,n])=>"members"===e&&n.filter((e=>e.userId===f.value.userId)).length>0))))).map((([n,t])=>({did:e.id,id:n,...t})));n.value=[...n.value,...s]})),(0,u.iN)(n.value,h,C),k.value=!1}catch(e){alert(e)}})),(e,t)=>((0,s.uX)(),(0,s.CE)("div",o,[(0,s.Lk)("div",d,[(0,s.Lk)("div",v,[(0,s.bF)(c.A),t[0]||(t[0]=(0,s.Lk)("div",null,[(0,s.Lk)("span",null,"歷史紀錄")],-1))])]),(0,s.Lk)("div",p,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.value,((e,n)=>((0,s.uX)(),(0,s.CE)("div",{class:(0,a.C4)(["card",{hidden:C[e.id]}]),key:e.id,style:(0,a.Tr)(h[e.id])},[(0,s.Lk)("h3",null,(0,a.v_)(e.name),1),(0,s.Lk)("button",{id:"btnGotoHomePage",class:"btn btn-success",onClick:e=>g(n)}," 前往"+(0,a.v_)(e.name),9,b)],6)))),128))])]))}};const f=k;var m=f}}]);
//# sourceMappingURL=509.397c8668.js.map